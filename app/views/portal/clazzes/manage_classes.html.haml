= javascript_include_tag "manage_classes"
= form_for(@teacher, :url => url_for(:action => :manage_classes, :controller => 'clazzes') ) do |f|
  .main_manage_classes_container.pie
    .container
      .content
      .manage_classes_panel
        .header Manage Class List
        -if(@teacher.teacher_clazzes.length == 0)
          = 'To get started,' 
          %a{ :id => "create_class", :href => "/portal/classes/new"} create a class
          ='. Once you have created your class(es) you will be able to assign Investigations to your students.'
        -else
          .manage_info Checked classes appear on your home page. To make a class inactive, uncheck its box. All data for inactive classes is preserved. Drag and drop class to reorder it in the list.
          
          
          - active_class_count = 0
          - active_classes_array = Array.new
          - position_of_classes = Array.new
        
        
          - @teacher.teacher_clazzes.each do |teacher_clazz| 
            - if(teacher_clazz.active)
              - active_classes_array.push(1)
              - active_class_count += 1
            - else
              - active_classes_array.push(0)
            - position_of_classes.push(teacher_clazz.position)
          .total_Class_summary My Classes (#{@teacher.clazzes.length} Total, #{active_class_count} Active)
          %br
          %br
          %br
          .checkbox_title Active classes
          
          - if @teacher.teacher_clazzes.length > 0
            %ul.sortable{:id=>"sortable",}
              - @teacher.teacher_clazzes.each do |teacher_clazz| 
                - if(teacher_clazz.active)
                  - selected_value = true;
                - else
                  - selected_value = false;
                = render :partial => 'portal/clazzes/clazz_list_element', :locals => {:teacher_clazz => teacher_clazz, :active_selected => selected_value}
            =sortable_element "sortable",:onUpdate=>'function(){}'
          - else
            .item
              %ul.quiet_list
                %li
                  .tiny= "No classes created yet!"
      -if(@teacher.teacher_clazzes.length != 0)
        .bottom_options
          .right_float
            = f.submit 'Save', :class => 'pie'
            /*%input{ :type => 'submit', :value => 'Save'} */
            = link_to 'Cancel', '/'
          .clear_both
      
      
      
      
      
      
      